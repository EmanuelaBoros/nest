<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>NEST Help - Coregistration</title>

<link rel="stylesheet" href="../style.css"></head>
<body>
<table class="header">
<tbody>
<tr class="header">
<td class="header">&nbsp; Coregistration Tutorial</td>
<td class="header" align="right"><a href="../general/BeamOverview.html"><img src="../images/BeamHeader.jpg" border="0"></a></td>
</tr>
</tbody>
</table>
<h3>Coregistering&nbsp;Products</h3>Images obtained from different
measurements may be co-registered such that the data is transformed
into one coordinate system. The toolbox will accurately co-register two
or more input images by spatial registration and resampling to correct
translational, rotational and scale differences. One of the images is
selected as the master image while the others are slave images.
Correlation metrics are used to automatically relate the slave images
to the master image. The input images need to have a minimum overlap.<br><br>NEST performs coregistration automatically by maximizing correlation in
windows around&nbsp;Ground Control Points (GCPs). This allows pixel-by-pixel comparisons of&nbsp;multiple datasets
that cover the same region.<br><br>Images
may be fully or only partly overlapping and may be from acquisitions
taken at different times using multiple sensors or from multiple
passages of the same satellite. &nbsp;The
slave and master images should be in the same projection.&nbsp; If not, the slave image(s) should be
reprojected into the same projection system as that of the master image.
<br>
<br>
Image co-registration is fundamental for Interferometry SAR (InSAR)
imaging and its applications, such as DEM map generation and analysis.
To obtain a high quality InSAR image, the individual complex images
need to be co-registered to sub-pixel accuracy. &nbsp;The achievable
co-registration accuracy for images in the same acquisition geometry
and over flat areas will be better than 0.2 pixels for two real images
and better than 0.05 pixels for two complex images.<br><br>
Coregistration is achieved in NEST using two graphs, one for GCP
Selection and the other to apply the Warp. The Warp graph requires that
all slave GCPs have been determined before evaluating the warp function.<br>
<br><br>
1. From the SAR Tools menu, select Coregistration.<br>
2. Add a master product to the ProductSet Reader.<br>
3. Add any slave products to the ProductSet reader or drag and drop products from a Project.<br>4.
In the CreateStack tab, select one source band from the master and one
source band from the slave for detected products. If you are using
complex data products, select bands i and q for the master and select
bands i and q from the slaves. <br>5. In the GCP Selection tab enter the number of GCPs to create.<br>6. In the Warp tab select the RMS threshold and warp polynomial order<br>7. In the Target tab enter in the output product name and location.<br>7. Press the Run button to begin processing.<br><h3>Coregistration from the Command Line</h3>To coregister from the command line run the gpt with the graphs found in the folder nest installation/command line/<br><br>First, run the GCP Selection<br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; gpt GCPSelectionGraph.xml -Pfilelist="masterProduct.N1,slaveProduct1.N1,slaveProduct2.E1,slaveProduct3.E1"
-Ptarget="gcp_selected.dim" <br><br>The input parameter filelist should be in the form "master,slave1,slave2"<br><br>Then, run the the Warp<br><br>&nbsp;&nbsp;&nbsp; gpt WarpGraph.xml
-Pfile="gcp_selected.dim" -Ptarget=coregistered_stack.dim<br><br><br>You
can combine the operations in a script. An example Windows batch file
can be found in the folder nest installation/command line/<br><br>To run the batch file type the following<br>&nbsp;&nbsp;&nbsp; coregister "masterProduct.N1, slaveProduct1.N1, slaveProduct2.E1, slaveProduct2.E1"<br><br><br><br><br><br>
<hr>
</body></html>